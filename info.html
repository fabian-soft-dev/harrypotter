<!DOCTYPE html>
<html>
<head>
    <title>Detalle</title>
</head>
<body>

    <div id="detalle"></div>

    <script>
        const container = document.getElementById('detalle');

        async function getCharacter() {

            const params = new URLSearchParams(window.location.search);
            const name = params.get('name');

            const response = await fetch('https://hp-api.onrender.com/api/characters');
            const data = await response.json();

            console.log("Nombre recibido:", name);
            
            const character = data.find(c => c.name === name);

            if (character) {
                container.innerHTML = `
                    <h1>${character.name}</h1>
                    <img src="${character.image}" width="300">
                    <p><b>Nombres alternativos:</b> 
                        ${character.alternate_names.length > 0 
                            ? character.alternate_names.join(", ")
                            : "Ninguno"}
                    </p>
                `;
            } else {
                container.innerHTML = "<h2>No se encontr√≥ el personaje</h2>";
            }
        }

        getCharacter();
        
    </script>

</body>
</html>